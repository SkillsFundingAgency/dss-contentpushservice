{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
  "parameters": {
    "appInsightsInstrumentationKey":{
      "type": "string"
    },
    "functionAppName": {
      "type": "string"
    },
    "appServicePlanId": {
      "type": "string"
    },
    "authenticationPushServiceClientId": {
      "type": "string"
    },
    "authenticationPushServiceClientSecret": {
      "type": "string"
    },
    "authenticationTenant": {
      "type": "string"
    },
    "configEnvironmentName": {
      "type": "string"
    },
    "cosmosDbCollectionId": {
      "type": "string"
    },
    "cosmosDbDatabaseId": {
      "type": "string"
    },
    "cosmosDbEndpoint": {
      "type": "string"
    },
    "cosmosDbKey": {
      "type": "string"
    },
    "serviceBusConnectionString": {
      "type": "string"
    },
    "azureB2CApiUrl": {
      "type": "string"
    },
    "azureB2CApiKey": {
      "type": "string"
    },
    "touchPoint0000000101AppIdUri": {
      "type": "string"
    },
    "touchPoint0000000101Url": {
        "type": "string"
    },
    "touchPoint0000000201AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000201Url": {
        "type": "string"
    },
    "touchPoint0000000102AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000102Url": {
        "type": "string"
    },
    "touchPoint0000000202AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000202Url": {
        "type": "string"
    },
    "touchPoint0000000103AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000103Url": {
        "type": "string"
    },
    "touchPoint0000000203AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000203Url": {
        "type": "string"
    },
    "touchPoint0000000104AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000104Url": {
        "type": "string"
    },
    "touchPoint0000000204AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000204Url": {
        "type": "string"
    },
    "touchPoint0000000105AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000105Url": {
        "type": "string"
    },
    "touchPoint0000000205AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000205Url": {
        "type": "string"
    },
    "touchPoint0000000106AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000106Url": {
        "type": "string"
    },
    "touchPoint0000000206AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000206Url": {
        "type": "string"
    },
    "touchPoint0000000107AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000107Url": {
        "type": "string"
    },
    "touchPoint0000000207AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000207Url": {
        "type": "string"
    },
    "touchPoint0000000108AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000108Url": {
        "type": "string"
    },
    "touchPoint0000000208AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000208Url": {
        "type": "string"
    },
    "touchPoint0000000109AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000109Url": {
        "type": "string"
    },
    "touchPoint0000000209AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000209Url": {
        "type": "string"
    },
    "touchPoint0000000999AppIdUri": {
        "type": "string"
    },
    "touchPoint0000000999Url": {
        "type": "string"
    },
    "touchPoint9000000001AppIdUri": {
        "type": "string"
    },
    "touchPoint9000000001Url": {
        "type": "string"
    },
    "touchPoint9000000002AppIdUri": {
        "type": "string"
    },
    "touchPoint9000000002Url": {
        "type": "string"
    },
    "touchPoint9000000003AppIdUri": {
        "type": "string"
    },
    "touchPoint9000000003Url": {
        "type": "string"
    }
  },
  "variables": {
    "FunctionAppInsightInstrumentationKey":"[parameters('appInsightsInstrumentationKey')]"
  },
  "resources": [
    {
      "name": "[parameters('functionAppName')]",
      "type": "Microsoft.Web/sites",
      "apiVersion": "2016-08-01",
      "location": "[resourceGroup().location]",
      "kind": "functionapp",
      "properties": {
        "httpsOnly": true,
        "serverFarmId": "[parameters('appServicePlanId')]",
        "siteConfig": {
          "alwaysOn": true,
          "netFrameworkVersion": "v8.0",
          "mintlsVersion": "1.2",
          "appSettings": [
            {
              "name": "EnvironmentName",
              "value": "[toUpper(parameters('configEnvironmentName'))]"
            },
            {
              "name": "MSDEPLOY_RENAME_LOCKED_FILES",
              "value": "1"
            },
            {
              "name": "APPINSIGHTS_INSTRUMENTATIONKEY",
              "value": "[variables('FunctionAppInsightInstrumentationKey')]"
            },
            {
              "name": "FUNCTIONS_EXTENSION_VERSION",
              "value": "~4"
            },
            {
              "name": "FUNCTIONS_WORKER_RUNTIME",
              "value": "dotnet-isolated"
            },
            {
              "name": "CollectionId",
              "value": "[parameters('cosmosDbCollectionId')]"
            },
            {
              "name": "DatabaseId",
              "value": "[parameters('cosmosDbDatabaseId')]"
            },
            {
              "name": "Endpoint",
              "value": "[parameters('cosmosDbEndpoint')]"
            },
            {
              "name": "Key",
              "value": "[parameters('cosmosDbKey')]"
            },
            {
              "name": "NotificationCollectionId",
              "value": "notifications"
            },
            {
              "name": "NotificationDatabaseId",
              "value": "notifications"
            },
            {
              "name": "ServiceBusConnectionString",
              "value": "[parameters('serviceBusConnectionString')]"
            },
            {
              "name": "AuthenticationAuthorityUri",
              "value": "https://login.microsoftonline.com/"
            },
            {
              "name": "AuthenticationPushServiceClientId",
              "value": "[parameters('authenticationPushServiceClientId')]"
            },
            {
              "name": "AuthenticationPushServiceClientSecret",
              "value": "[parameters('authenticationPushServiceClientSecret')]"
            },
            {
              "name": "AuthenticationTenant",
              "value": "[parameters('authenticationTenant')]"
            },
            {
              "name": "AzureB2CApiUrl",
              "value": "[parameters('azureB2CApiUrl')]"
            },
            {
              "name": "AzureB2CApiKey",
              "value": "[parameters('azureB2CApiKey')]"
            },
            {
              "name": "touchPoint0000000101AppIdUri",
              "value": "[parameters('touchPoint0000000101AppIdUri')]"
            },
            {
              "name": "touchPoint0000000101Url",
              "value": "[parameters('touchPoint0000000101Url')]"
            },
            {
              "name": "touchPoint0000000201AppIdUri",
              "value": "[parameters('touchPoint0000000201AppIdUri')]"
            },
            {
              "name": "touchPoint0000000201Url",
              "value": "[parameters('touchPoint0000000201Url')]"
            },
            {
              "name": "touchPoint0000000102AppIdUri",
              "value": "[parameters('touchPoint0000000102AppIdUri')]"
            },
            {
              "name": "touchPoint0000000102Url",
              "value": "[parameters('touchPoint0000000102Url')]"
            },
            {
              "name": "touchPoint0000000202AppIdUri",
              "value": "[parameters('touchPoint0000000202AppIdUri')]"
            },
            {
              "name": "touchPoint0000000202Url",
              "value": "[parameters('touchPoint0000000202Url')]"
            },
            {
              "name": "touchPoint0000000103AppIdUri",
              "value": "[parameters('touchPoint0000000103AppIdUri')]"
            },
            {
              "name": "touchPoint0000000103Url",
              "value": "[parameters('touchPoint0000000103Url')]"
            },
            {
              "name": "touchPoint0000000203AppIdUri",
              "value": "[parameters('touchPoint0000000203AppIdUri')]"
            },
            {
              "name": "touchPoint0000000203Url",
              "value": "[parameters('touchPoint0000000203Url')]"
            },
            {
              "name": "touchPoint0000000104AppIdUri",
              "value": "[parameters('touchPoint0000000104AppIdUri')]"
            },
            {
              "name": "touchPoint0000000104Url",
              "value": "[parameters('touchPoint0000000104Url')]"
            },
            {
              "name": "touchPoint0000000204AppIdUri",
              "value": "[parameters('touchPoint0000000204AppIdUri')]"
            },
            {
              "name": "touchPoint0000000204Url",
              "value": "[parameters('touchPoint0000000204Url')]"
            },
            {
              "name": "touchPoint0000000105AppIdUri",
              "value": "[parameters('touchPoint0000000105AppIdUri')]"
            },
            {
              "name": "touchPoint0000000105Url",
              "value": "[parameters('touchPoint0000000105Url')]"
            },
            {
              "name": "touchPoint0000000205AppIdUri",
              "value": "[parameters('touchPoint0000000205AppIdUri')]"
            },
            {
              "name": "touchPoint0000000205Url",
              "value": "[parameters('touchPoint0000000205Url')]"
            },
            {
              "name": "touchPoint0000000106AppIdUri",
              "value": "[parameters('touchPoint0000000106AppIdUri')]"
            },
            {
              "name": "touchPoint0000000106Url",
              "value": "[parameters('touchPoint0000000106Url')]"
            },
            {
              "name": "touchPoint0000000206AppIdUri",
              "value": "[parameters('touchPoint0000000206AppIdUri')]"
            },
            {
              "name": "touchPoint0000000206Url",
              "value": "[parameters('touchPoint0000000206Url')]"
            },
            {
              "name": "touchPoint0000000107AppIdUri",
              "value": "[parameters('touchPoint0000000107AppIdUri')]"
            },
            {
              "name": "touchPoint0000000107Url",
              "value": "[parameters('touchPoint0000000107Url')]"
            },
            {
              "name": "touchPoint0000000207AppIdUri",
              "value": "[parameters('touchPoint0000000207AppIdUri')]"
            },
            {
              "name": "touchPoint0000000207Url",
              "value": "[parameters('touchPoint0000000207Url')]"
            },
            {
              "name": "touchPoint0000000108AppIdUri",
              "value": "[parameters('touchPoint0000000108AppIdUri')]"
            },
            {
              "name": "touchPoint0000000108Url",
              "value": "[parameters('touchPoint0000000108Url')]"
            },
            {
              "name": "touchPoint0000000208AppIdUri",
              "value": "[parameters('touchPoint0000000208AppIdUri')]"
            },
            {
              "name": "touchPoint0000000208Url",
              "value": "[parameters('touchPoint0000000208Url')]"
            },
            {
              "name": "touchPoint0000000109AppIdUri",
              "value": "[parameters('touchPoint0000000109AppIdUri')]"
            },
            {
              "name": "touchPoint0000000109Url",
              "value": "[parameters('touchPoint0000000109Url')]"
            },
            {
              "name": "touchPoint0000000209AppIdUri",
              "value": "[parameters('touchPoint0000000209AppIdUri')]"
            },
            {
              "name": "touchPoint0000000209Url",
              "value": "[parameters('touchPoint0000000209Url')]"
            },
            {
              "name": "touchPoint0000000999AppIdUri",
              "value": "[parameters('touchPoint0000000999AppIdUri')]"
            },
            {
              "name": "touchPoint0000000999Url",
              "value": "[parameters('touchPoint0000000999Url')]"
            },
            {
              "name": "touchPoint9000000001AppIdUri",
              "value": "[parameters('touchPoint9000000001AppIdUri')]"
            },
            {
              "name": "touchPoint9000000001Url",
              "value": "[parameters('touchPoint9000000001Url')]"
            },
            {
              "name": "touchPoint9000000002AppIdUri",
              "value": "[parameters('touchPoint9000000002AppIdUri')]"
            },
            {
              "name": "touchPoint9000000002Url",
              "value": "[parameters('touchPoint9000000002Url')]"
            },
            {
              "name": "touchPoint9000000003AppIdUri",
              "value": "[parameters('touchPoint9000000003AppIdUri')]"
            },
            {
              "name": "touchPoint9000000003Url",
              "value": "[parameters('touchPoint9000000003Url')]"
            }
          ]
        }
      }
    }
  ],
    "outputs": {}
}