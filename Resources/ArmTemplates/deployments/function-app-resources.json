{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
  "parameters": {
    "appInsightsInstrumentationKey":{
      "type": "string"
    },
    "functionAppName": {
      "type": "string"
    },
    "appServicePlanId": {
      "type": "string"
    },
    "authentication__PushServiceClientId": {
      "type": "string"
    },
    "authentication__PushServiceClientSecret": {
      "type": "string"
    },
    "authentication__Tenant": {
      "type": "string"
    },
    "configEnvironmentName": {
      "type": "string"
    },
    "cosmosDbCollectionId": {
      "type": "string"
    },
    "cosmosDbDatabaseId": {
      "type": "string"
    },
    "cosmosDbEndpoint": {
      "type": "string"
    },
    "cosmosDbKey": {
      "type": "string"
    },
    "serviceBusConnectionString": {
      "type": "string"
    },
    "azureB2C__ApiUrl": {
      "type": "string"
    },
    "azureB2C__ApiKey": {
      "type": "string"
    },
    "touchPoint__0000000101__AppIdUri": {
      "type": "string"
    },
    "touchPoint__0000000101__Url": {
        "type": "string"
    },
    "touchPoint__0000000201__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000201__Url": {
        "type": "string"
    },
    "touchPoint__0000000102__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000102__Url": {
        "type": "string"
    },
    "touchPoint__0000000202__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000202__Url": {
        "type": "string"
    },
    "touchPoint__0000000103__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000103__Url": {
        "type": "string"
    },
    "touchPoint__0000000203__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000203__Url": {
        "type": "string"
    },
    "touchPoint__0000000104__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000104__Url": {
        "type": "string"
    },
    "touchPoint__0000000204__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000204__Url": {
        "type": "string"
    },
    "touchPoint__0000000105__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000105__Url": {
        "type": "string"
    },
    "touchPoint__0000000205__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000205__Url": {
        "type": "string"
    },
    "touchPoint__0000000106__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000106__Url": {
        "type": "string"
    },
    "touchPoint__0000000206__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000206__Url": {
        "type": "string"
    },
    "touchPoint__0000000107__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000107__Url": {
        "type": "string"
    },
    "touchPoint__0000000207__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000207__Url": {
        "type": "string"
    },
    "touchPoint__0000000108__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000108__Url": {
        "type": "string"
    },
    "touchPoint__0000000208__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000208__Url": {
        "type": "string"
    },
    "touchPoint__0000000109__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000109__Url": {
        "type": "string"
    },
    "touchPoint__0000000209__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000209__Url": {
        "type": "string"
    },
    "touchPoint__0000000999__AppIdUri": {
        "type": "string"
    },
    "touchPoint__0000000999__Url": {
        "type": "string"
    },
    "touchPoint__9000000001__AppIdUri": {
        "type": "string"
    },
    "touchPoint__9000000001__Url": {
        "type": "string"
    },
    "touchPoint__9000000002__AppIdUri": {
        "type": "string"
    },
    "touchPoint__9000000002__Url": {
        "type": "string"
    },
    "touchPoint__9000000003__AppIdUri": {
        "type": "string"
    },
    "touchPoint__9000000003__Url": {
        "type": "string"
    }
  },
  "variables": {
    "FunctionAppInsightInstrumentationKey":"[parameters('appInsightsInstrumentationKey')]"
  },
  "resources": [
    {
      "name": "[parameters('functionAppName')]",
      "type": "Microsoft.Web/sites",
      "apiVersion": "2016-08-01",
      "location": "[resourceGroup().location]",
      "kind": "functionapp",
      "properties": {
        "httpsOnly": true,
        "serverFarmId": "[parameters('appServicePlanId')]",
        "siteConfig": {
          "alwaysOn": true,
          "netFrameworkVersion": "v8.0",
          "mintlsVersion": "1.2",
          "appSettings": [
            {
              "name": "EnvironmentName",
              "value": "[toUpper(parameters('configEnvironmentName'))]"
            },
            {
              "name": "MSDEPLOY_RENAME_LOCKED_FILES",
              "value": "1"
            },
            {
              "name": "APPINSIGHTS_INSTRUMENTATIONKEY",
              "value": "[variables('FunctionAppInsightInstrumentationKey')]"
            },
            {
              "name": "FUNCTIONS_EXTENSION_VERSION",
              "value": "~4"
            },
            {
              "name": "FUNCTIONS_WORKER_RUNTIME",
              "value": "dotnet-isolated"
            },
            {
              "name": "CollectionId",
              "value": "[parameters('cosmosDbCollectionId')]"
            },
            {
              "name": "DatabaseId",
              "value": "[parameters('cosmosDbDatabaseId')]"
            },
            {
              "name": "Endpoint",
              "value": "[parameters('cosmosDbEndpoint')]"
            },
            {
              "name": "Key",
              "value": "[parameters('cosmosDbKey')]"
            },
            {
              "name": "NotificationCollectionId",
              "value": "notifications"
            },
            {
              "name": "NotificationDatabaseId",
              "value": "notifications"
            },
            {
              "name": "ServiceBusConnectionString",
              "value": "[parameters('serviceBusConnectionString')]"
            },
            {
              "name": "Authentication__AuthorityUri",
              "value": "https://login.microsoftonline.com/"
            },
            {
              "name": "Authentication__PushServiceClientId",
              "value": "[parameters('authentication__PushServiceClientId')]"
            },
            {
              "name": "Authentication__PushServiceClientSecret",
              "value": "[parameters('authentication__PushServiceClientSecret')]"
            },
            {
              "name": "Authentication__Tenant",
              "value": "[parameters('authentication__Tenant')]"
            },
            {
              "name": "AzureB2C__ApiUrl",
              "value": "[parameters('azureB2C__ApiUrl')]"
            },
            {
              "name": "AzureB2C__ApiKey",
              "value": "[parameters('azureB2C__ApiKey')]"
            },
            {
              "name": "touchPoint__0000000101__AppIdUri",
              "value": "[parameters('touchPoint__0000000101__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000101__Url",
              "value": "[parameters('touchPoint__0000000101__Url')]"
            },
            {
              "name": "touchPoint__0000000201__AppIdUri",
              "value": "[parameters('touchPoint__0000000201__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000201__Url",
              "value": "[parameters('touchPoint__0000000201__Url')]"
            },
            {
              "name": "touchPoint__0000000102__AppIdUri",
              "value": "[parameters('touchPoint__0000000102__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000102__Url",
              "value": "[parameters('touchPoint__0000000102__Url')]"
            },
            {
              "name": "touchPoint__0000000202__AppIdUri",
              "value": "[parameters('touchPoint__0000000202__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000202__Url",
              "value": "[parameters('touchPoint__0000000202__Url')]"
            },
            {
              "name": "touchPoint__0000000103__AppIdUri",
              "value": "[parameters('touchPoint__0000000103__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000103__Url",
              "value": "[parameters('touchPoint__0000000103__Url')]"
            },
            {
              "name": "touchPoint__0000000203__AppIdUri",
              "value": "[parameters('touchPoint__0000000203__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000203__Url",
              "value": "[parameters('touchPoint__0000000203__Url')]"
            },
            {
              "name": "touchPoint__0000000104__AppIdUri",
              "value": "[parameters('touchPoint__0000000104__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000104__Url",
              "value": "[parameters('touchPoint__0000000104__Url')]"
            },
            {
              "name": "touchPoint__0000000204__AppIdUri",
              "value": "[parameters('touchPoint__0000000204__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000204__Url",
              "value": "[parameters('touchPoint__0000000204__Url')]"
            },
            {
              "name": "touchPoint__0000000105__AppIdUri",
              "value": "[parameters('touchPoint__0000000105__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000105__Url",
              "value": "[parameters('touchPoint__0000000105__Url')]"
            },
            {
              "name": "touchPoint__0000000205__AppIdUri",
              "value": "[parameters('touchPoint__0000000205__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000205__Url",
              "value": "[parameters('touchPoint__0000000205__Url')]"
            },
            {
              "name": "touchPoint__0000000106__AppIdUri",
              "value": "[parameters('touchPoint__0000000106__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000106__Url",
              "value": "[parameters('touchPoint__0000000106__Url')]"
            },
            {
              "name": "touchPoint__0000000206__AppIdUri",
              "value": "[parameters('touchPoint__0000000206__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000206__Url",
              "value": "[parameters('touchPoint__0000000206__Url')]"
            },
            {
              "name": "touchPoint__0000000107__AppIdUri",
              "value": "[parameters('touchPoint__0000000107__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000107__Url",
              "value": "[parameters('touchPoint__0000000107__Url')]"
            },
            {
              "name": "touchPoint__0000000207__AppIdUri",
              "value": "[parameters('touchPoint__0000000207__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000207__Url",
              "value": "[parameters('touchPoint__0000000207__Url')]"
            },
            {
              "name": "touchPoint__0000000108__AppIdUri",
              "value": "[parameters('touchPoint__0000000108__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000108__Url",
              "value": "[parameters('touchPoint__0000000108__Url')]"
            },
            {
              "name": "touchPoint__0000000208__AppIdUri",
              "value": "[parameters('touchPoint__0000000208__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000208__Url",
              "value": "[parameters('touchPoint__0000000208__Url')]"
            },
            {
              "name": "touchPoint__0000000109__AppIdUri",
              "value": "[parameters('touchPoint__0000000109__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000109__Url",
              "value": "[parameters('touchPoint__0000000109__Url')]"
            },
            {
              "name": "touchPoint__0000000209__AppIdUri",
              "value": "[parameters('touchPoint__0000000209__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000209__Url",
              "value": "[parameters('touchPoint__0000000209__Url')]"
            },
            {
              "name": "touchPoint__0000000999__AppIdUri",
              "value": "[parameters('touchPoint__0000000999__AppIdUri')]"
            },
            {
              "name": "touchPoint__0000000999__Url",
              "value": "[parameters('touchPoint__0000000999__Url')]"
            },
            {
              "name": "touchPoint__9000000001__AppIdUri",
              "value": "[parameters('touchPoint__9000000001__AppIdUri')]"
            },
            {
              "name": "touchPoint__9000000001__Url",
              "value": "[parameters('touchPoint__9000000001__Url')]"
            },
            {
              "name": "touchPoint__9000000002__AppIdUri",
              "value": "[parameters('touchPoint__9000000002__AppIdUri')]"
            },
            {
              "name": "touchPoint__9000000002__Url",
              "value": "[parameters('touchPoint__9000000002__Url')]"
            },
            {
              "name": "touchPoint__9000000003__AppIdUri",
              "value": "[parameters('touchPoint__9000000003__AppIdUri')]"
            },
            {
              "name": "touchPoint__9000000003__Url",
              "value": "[parameters('touchPoint__9000000003__Url')]"
            }
          ]
        }
      }
    }
  ],
    "outputs": {}
}